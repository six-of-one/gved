
G¹G²ved ops
=================================

edator ideas:

current op: implement sanctuary features

ctrl-h toggle clcik item replace modes
* ctrl-del turns on click-delete mode, del turns off

rubber-band ops - click and drag will expand to set region of place / del / edit
* idea: show rubber band with visible indicator smh
* ctrl-click should only operate on outer cells of band
* copy, cut & paste rubber-band contents
* rubber band sizing of cells, single click contents
* use blotter to show gauntlet 'maze view' following maus around
- select in edit - edkeys off - set filter area sim. to paint same
  \_ turned off by c/c/p, del, edit off, pgup/dn
- when setting color, it still needs assigned & saved

replace mode - either over entire maze, rubber band region, select y/n on each find, or click item replace
\_ possibly also use #T mask, or item # list for allowing edits on elements, or disallow

some type of quick-key insert system, maybe shifted # or so
* possibly assignable hot-keys
* more default hotkeys
* show item when placing, if not ccp or other blotter ops

a palette system similar to edit in sanctuary
- and the edit options dialog
* put palette into sd buffer 0, which isnt normally selectable
* bring up on home key
* or a second window for palette, with edit opts

a basic "playable" mode to test mazes
* port rnd load profile sanctuary code, and use #T flags to remove certain elements, wip
- no h/s, multiplay, thief, mugger, diff move monsters, treasure rooms, secret rooms, dragons, etc
- sprite system needed (sprites have to replace gens, treasure, keys, pots, etc)
- sprite sheet organzied, prod
- player controls (turn off cmd keys, special mode - use actab select in keyrune)
- pixel unit move renderer
- dialogs: play stats, scores, main sideboard (4 players)

multiple save buffers to store vars maze edits, page thru all wiht 'S', store with #'S', load with #'L'
* can always store & page -- G¹ & G² have sep buffers
* use a certain buffer (0 ?) to store the main edit pallete for middl-clicks
* modify lod_maz to pass mazedata & bool for ubuf
* dirty flag so quit, pgup, pgdn know unsaved changes are there and give warning dialog
- list of delbuf overview, contents, etc somehow

copy / cut / paste / replace
* do same with ccp buffer - page thru and view them
* for now these lock in - this is a 'feature' (nudge, nudge, wink, wink) until proper cfg file & dialog allow selection
* using new window to view paste buffer contents
- ctrl-f filter master paste buffer storage (key on pb win to toggle/select)
  - deselect all option
- filter done with paint in edit mode w/edkeys off - set cells that can edit
  \_ turned off by c/c/p, del, edit off, pgup/dn

issues needing fixed
- will the autosaves (around L, S, etc) become an issue?    (see pb bug below)
- undo after paste works weirdly sometimes - usually with the next issue
- saw instanced where paste pasted wrong data, not sure, was on G¹ only editing an sdb
  |    - every time this happens 1 element is set over x,y size of pb
  \_ this still occasionally happens and it might be paste getting turned off or ignored somehow
viewport
* floor draw (floor gets redrawn with rnd shift every move) - until flordirt is set
* xb editing can enter floor vals & like causing crashes - all data needs bounded when calling render code
  \_ bounding is done, needs tested
* non H & V wrap maps - sdb, walls / floor outside of dimx,y when smaller than 32x32
  \_ does not test H & V yet

possible:
* down the line .ed stored maz# could be used to set maz num
- .ed files need sanctuary details - special floors, cust walls, special settings
  - indicator for treasure rooms, secret rooms
- dialog for setting / reading bits of #T hide mask and #flg blank maze keep mask
- way using sprites to demo half transparent paste content over maze
think about retooling buffer file read to work like rom reader in roms.go instead of ioutil.ReadFile(fil)
* more keys for dialog win to still operate main win (stats, etc) -- add main win keyrune to most dialogs
- sprite viewer ideas
  - get generic rom read coded
  - sprite sheet saver
  - customize able for saver

config ideas:
- master pb ctrl-f filter selections
- sound off item on key assign
- add dialog - blotter color/alpha, blotter filename
- maze xb - files, floors walls
- do we want dev overrides on some items during play ? (unpin, etc)

perhaps needs rewrite:
- cleanup all modules
\_ look at more code that can be fn() calls to reduce heavy repeats
 \_ code around paste buf save & load
  \_ all the buffer xfer code (main issue struct of slices doesnt parm pass easy)

removed:
ӿ add element totals to palette window      (doesnt work consistently on window update...)

future:
* with the success of the rubberband blotter implement, a glimmer of an idea starts
  on how to actually code the sanctuary-go game screen

notes:

se_mflor, se_mwal* - weird could happen if there are walls/floors in xb_* and the se_ ref vars are not correct
                     so far if no wall/flor are spec and 0 is used for se_ it will default to 0 entry

game player:

* save floor layer
* build shadows & animate floor tiles on that to new img
* walls & stationary - when updating, changes have dirty flag & update 8 tiles around
- mobs & gens - when things delete, 8 tiles around also need update

* built in 3 layers (and button?) and load to win SetContent(box)


further research:

1. put this with old txt research

- killed by hurt player shots - 8 potions, leave 3 lvl ghost (m32 0.87 - mess lvl)

- walls -> exits
  - trap walls      
  - shootables      exits (even part shot)
  - cycle walls g2  
  - random walls g2 
  - secret walls g2 
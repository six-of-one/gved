package main

// maze object ids (names matching names in IDA)
const (
	MAZEOBJ_TILE_FLOOR = iota
	MAZEOBJ_TILE_STUN
	MAZEOBJ_WALL_REGULAR
	MAZEOBJ_WALL_MOVABLE
	MAZEOBJ_WALL_SECRET
	MAZEOBJ_WALL_DESTRUCTABLE
	MAZEOBJ_WALL_RANDOM
	MAZEOBJ_WALL_TRAPCYC1
	MAZEOBJ_WALL_TRAPCYC2
	MAZEOBJ_WALL_TRAPCYC3
	MAZEOBJ_TILE_TRAP1
	MAZEOBJ_TILE_TRAP2
	MAZEOBJ_TILE_TRAP3
	MAZEOBJ_DOOR_HORIZ
	MAZEOBJ_DOOR_VERT
	MAZEOBJ_PLAYERSTART
	MAZEOBJ_EXIT
	MAZEOBJ_EXITTO6
	MAZEOBJ_MONST_GHOST
	MAZEOBJ_MONST_GRUNT
	MAZEOBJ_MONST_DEMON
	MAZEOBJ_MONST_LOBBER
	MAZEOBJ_MONST_SORC
	MAZEOBJ_MONST_AUX_GRUNT
	MAZEOBJ_MONST_DEATH
	MAZEOBJ_MONST_ACID
	MAZEOBJ_MONST_SUPERSORC
	MAZEOBJ_MONST_IT
	MAZEOBJ_GEN_GHOST1
	MAZEOBJ_GEN_GHOST2
	MAZEOBJ_GEN_GHOST3
	MAZEOBJ_GEN_GRUNT1
	MAZEOBJ_GEN_GRUNT2
	MAZEOBJ_GEN_GRUNT3
	MAZEOBJ_GEN_DEMON1
	MAZEOBJ_GEN_DEMON2
	MAZEOBJ_GEN_DEMON3
	MAZEOBJ_GEN_LOBBER1
	MAZEOBJ_GEN_LOBBER2
	MAZEOBJ_GEN_LOBBER3
	MAZEOBJ_GEN_SORC1
	MAZEOBJ_GEN_SORC2
	MAZEOBJ_GEN_SORC3
	MAZEOBJ_GEN_AUX_GRUNT1
	MAZEOBJ_GEN_AUX_GRUNT2
	MAZEOBJ_GEN_AUX_GRUNT3
	MAZEOBJ_TREASURE
	MAZEOBJ_TREASURE_LOCKED
	MAZEOBJ_TREASURE_BAG
	MAZEOBJ_FOOD_DESTRUCTABLE
	MAZEOBJ_FOOD_INVULN
	MAZEOBJ_POT_DESTRUCTABLE
	MAZEOBJ_POT_INVULN
	MAZEOBJ_KEY
	MAZEOBJ_POWER_INVIS
	MAZEOBJ_POWER_REPULSE
	MAZEOBJ_POWER_REFLECT
	MAZEOBJ_POWER_TRANSPORT
	MAZEOBJ_POWER_SUPERSHOT
	MAZEOBJ_POWER_INVULN
	MAZEOBJ_MONST_DRAGON
	MAZEOBJ_HIDDENPOT
	MAZEOBJ_TRANSPORTER
	MAZEOBJ_FORCEFIELDHUB
)

// Six: g1 objects
const (
	G1OBJ_TILE_FLOOR = 0
	G1OBJ_WALL_REGULAR = 2
	G1OBJ_DOOR_HORIZ = 3
	G1OBJ_DOOR_VERT = 4
	G1OBJ_PLAYERSTART = 5
	G1OBJ_EXIT = 6
	G1OBJ_EXIT4 = 7
	G1OBJ_EXIT8 = 8
	G1OBJ_MONST_GHOST1 = 9
	G1OBJ_MONST_GHOST2 = 10
	G1OBJ_MONST_GHOST3 = 11
	G1OBJ_MONST_GRUNT1 = 12
	G1OBJ_MONST_GRUNT2 = 13
	G1OBJ_MONST_GRUNT3 = 14
	G1OBJ_MONST_DEMON1 = 15
	G1OBJ_MONST_DEMON2 = 16
	G1OBJ_MONST_DEMON3 = 17
	G1OBJ_MONST_LOBBER1 = 18
	G1OBJ_MONST_LOBBER2 = 19
	G1OBJ_MONST_LOBBER3 = 20
	G1OBJ_MONST_SORC1 = 21
	G1OBJ_MONST_SORC2 = 22
	G1OBJ_MONST_SORC3 = 23
	G1OBJ_MONST_DEATH = 24
	G1OBJ_MONST_THIEF = 65
	G1OBJ_GEN_GHOST1 = 25
	G1OBJ_GEN_GHOST2 = 26
	G1OBJ_GEN_GHOST3 = 27
	G1OBJ_GEN_GRUNT1 = 28
	G1OBJ_GEN_GRUNT2 = 29
	G1OBJ_GEN_GRUNT3 = 30
	G1OBJ_GEN_DEMON1 = 31
	G1OBJ_GEN_DEMON2 = 32
	G1OBJ_GEN_DEMON3 = 33
	G1OBJ_GEN_LOBBER1 = 34
	G1OBJ_GEN_LOBBER2 = 35
	G1OBJ_GEN_LOBBER3 = 36
	G1OBJ_GEN_SORC1 = 37
	G1OBJ_GEN_SORC2 = 38
	G1OBJ_GEN_SORC3 = 39
	G1OBJ_TREASURE = 40
	G1OBJ_FOOD_DESTRUCTABLE = 42
	G1OBJ_FOOD_INVULN = 43
	G1OBJ_POT_DESTRUCTABLE = 44
	G1OBJ_INVISIBL = 46
	G1OBJ_X_SPEED = 48
	G1OBJ_X_SHOTPW = 50
	G1OBJ_X_SHTSPD = 51
	G1OBJ_X_ARMOR = 47
	G1OBJ_X_FIGHT = 52
	G1OBJ_X_MAGIC = 49
	G1OBJ_KEY = 53
	G1OBJ_POT_INVULN = 45
	G1OBJ_WALL_DESTRUCTABLE = 56
	G1OBJ_WALL_TRAP1 = 57
	G1OBJ_TILE_TRAP1 = 58
	G1OBJ_TRANSPORTER = 59
	G1OBJ_TILE_STUN = 62
	G1OBJ_TREASURE_BAG = 64
)
// contrl var nothing [ no-thing ] that blocks elements output
const (
	NOGEN = 1		// all generators
	NOMON = 2		// all monster, dragon
	NOFUD = 4		// all food
	NOTRS = 8		// treas, locked
	NOPOT = 16		// pots & t.powers
	NODOR = 32		// doors keys
	NOTRAP = 64		// trap, stun, ff tiles
	NOEXP = 128		// exit, push wall, rest
	NOTHN = 256		// all things
	NOFLOOR = 512
	NOWALL = 1024
)
// G1 - list of "wrap levels"
var g1wrp = []int{
// horiz wraps
	7, 15, 26, 32, 34, 36, 38, 39, 40, 54, 74, 77, 80, 97, 98, 116, 118, 121,
	200,
// vert wraps
	32, 33, -1,
}

// Flags for levels
const (
	LFLAG1_ODDANGLE_GHOSTS     = 0x01000000
	LFLAG1_ODDANGLE_GRUNTS     = 0x02000000
	LFLAG1_ODDANGLE_DEMONS     = 0x04000000
	LFLAG1_ODDANGLE_LOBBERS    = 0x08000000
	LFLAG1_ODDANGLE_SORCERERS  = 0x10000000
	LFLAG1_ODDANGLE_AUX_GRUNTS = 0x20000000
	LFLAG1_ODDANGLE_DEATHS     = 0x40000000
	LFLAG1_INVIS_TRAPWALLS     = 0x80000000

	LFLAG2_FAST_GHOSTS     = 0x010000
	LFLAG2_FAST_GRUNTS     = 0x020000
	LFLAG2_FAST_DEMONS     = 0x040000
	LFLAG2_FAST_LOBBERS    = 0x080000
	LFLAG2_FAST_SORCERERS  = 0x100000
	LFLAG2_FAST_AUX_GRUNTS = 0x200000
	LFLAG2_FAST_DEATHS     = 0x400000
	LFLAG2_INVIS_ALLWALLS  = 0x800000

	LFLAG3_RANDOMFOOD_MASK  = 0x0700
	LFLAG3_WALLS_CYCLIC     = 0x0800
	LFLAG3_WALLS_DELETABLE1 = 0x1000
	LFLAG3_WALLS_DELETABLE2 = 0x2000
	LFLAG3_EXIT_MOVES       = 0x4000
	LFLAG3_EXIT_CHOOSEONE   = 0x8000

	LFLAG4_SHOTS_STUN       = 0x01
	LFLAG4_SHOTS_HURT       = 0x02
	LFLAG4_TRAPS_LOCAL      = 0x04
	LFLAG4_TRAPS_RANDOM     = 0x08
	LFLAG4_WRAP_V           = 0x10
	LFLAG4_WRAP_H           = 0x20
	LFLAG4_EXIT_FAKE        = 0x40
	LFLAG4_PLAYER_OFFSCREEN = 0x80
)

var mazeFlagStrings = map[int]string{
	LFLAG1_ODDANGLE_GHOSTS:     "ODDANGLE_GHOSTS",
	LFLAG1_ODDANGLE_GRUNTS:     "ODDANGLE_GRUNTS",
	LFLAG1_ODDANGLE_DEMONS:     "ODDANGLE_DEMONS",
	LFLAG1_ODDANGLE_LOBBERS:    "ODDANGLE_LOBBERS",
	LFLAG1_ODDANGLE_SORCERERS:  "ODDANGLE_SORCERERS",
	LFLAG1_ODDANGLE_AUX_GRUNTS: "ODDANGLE_GRUNTS",
	LFLAG1_ODDANGLE_DEATHS:     "ODDANGLE_DEATHS",
	LFLAG1_INVIS_TRAPWALLS:     "INVIS_TRAPWALLS",

	LFLAG2_FAST_GHOSTS:     "FAST_GHOSTS",
	LFLAG2_FAST_GRUNTS:     "FAST_GRUNTS",
	LFLAG2_FAST_DEMONS:     "FAST_DEMONS",
	LFLAG2_FAST_LOBBERS:    "FAST_LOBBERS",
	LFLAG2_FAST_SORCERERS:  "FAST_SORCERERS",
	LFLAG2_FAST_AUX_GRUNTS: "FAST_AUX_GRUNTS",
	LFLAG2_FAST_DEATHS:     "FAST_DEATHS",
	LFLAG2_INVIS_ALLWALLS:  "INVIS_ALLWALLS",

	LFLAG3_WALLS_CYCLIC:     "WALLS_CYCLIC",
	LFLAG3_WALLS_DELETABLE1: "WALLS_DELETABLE1",
	LFLAG3_WALLS_DELETABLE2: "WALLS_DELETABLE2",
	LFLAG3_EXIT_MOVES:       "EXIT_MOVES",
	LFLAG3_EXIT_CHOOSEONE:   "EXIT_CHOOSE_ONE",

	LFLAG4_SHOTS_STUN:       "SHOTS_STUN",
	LFLAG4_SHOTS_HURT:       "SHOTS_HURT",
	LFLAG4_TRAPS_LOCAL:      "TRAPS_LOCAL",
	LFLAG4_TRAPS_RANDOM:     "TRAPS_RANDOM",
	LFLAG4_WRAP_V:           "WRAP_V",
	LFLAG4_WRAP_H:           "WRAP_H",
	LFLAG4_EXIT_FAKE:        "EXIT_FAKE",
	LFLAG4_PLAYER_OFFSCREEN: "PLAYER_OFFSCREEN",
}

const (
	TRICK_NONE           = 0x00
	TRICK_TRANSPORT1     = 0x01
	TRICK_TRANSPORT2     = 0x02
	TRICK_TRANSPORT3     = 0x03
	TRICK_TRANSPORT4     = 0x04
	TRICK_WATCHSHOOT1    = 0x05
	TRICK_WATCHSHOOT2    = 0x06
	TRICK_SAVESUPERSHOTS = 0x07
	TRICK_NOUSEINVUL     = 0x08
	TRICK_NOGETHIT       = 0x09
	TRICK_PUSHWALL       = 0x0a
	TRICK_NOFOOLED       = 0x0b
	TRICK_NOGREEDY1      = 0x0c
	TRICK_NOGREEDY2      = 0x0d
	TRICK_DIET           = 0x0e
	TRICK_BEPUSHY        = 0x0f
	TRICK_IT             = 0x10
	TRICK_NOHURTFRIENDS  = 0x11
)

var mazeSecretStrings = map[int]string{
	TRICK_NONE:           "No trick",
	TRICK_TRANSPORT1:     "Try Transportability (onto demon)",
	TRICK_TRANSPORT2:     "Try Transportability (onto death)",
	TRICK_TRANSPORT3:     "Try Transportability (into exit)",
	TRICK_TRANSPORT4:     "Try Transportability (onto secret wall)",
	TRICK_WATCHSHOOT1:    "Watch What You Shoot (shoot foods)",
	TRICK_WATCHSHOOT2:    "Watch What You Shoot (shoot secret walls)",
	TRICK_SAVESUPERSHOTS: "Save Super Shots",
	TRICK_NOUSEINVUL:     "Don't Use Invulnerability",
	TRICK_NOGETHIT:       "Don't Get Hit (while killing a dragon)",
	TRICK_PUSHWALL:       "Try Pushing a Wall",
	TRICK_NOFOOLED:       "Don't Be Fooled",
	TRICK_NOGREEDY1:      "Don't Be Greedy (no keys or potions)",
	TRICK_NOGREEDY2:      "Don't Be Greedy (no treasure)",
	TRICK_DIET:           "Go On a Diet (no food)",
	TRICK_BEPUSHY:        "Be Pushy",
	TRICK_IT:             "IT Could Be Nice",
	TRICK_NOHURTFRIENDS:  "Don't Hurt Friends",
}

// sanctuary converter values
var sanct_vrt = []int{

	 0xa08060,		// 	G1MP_TILE_FLOOR: 0,
	 0x00001,		// 	G1MP_nospec_1: 1,
	 0x404000,		// 	G1MP_WALL_REGULAR: 2,
	 0xc0c000,		// 	G1MP_DOOR_HORIZ: 3,
	 0xc0c000,		// 	G1MP_DOOR_VERT: 4,
	 0xf000,		// 	G1MP_PLAYERSTART: 5,
	 0x4000,		// 	G1MP_EXIT: 6,
	 0x4010,		// 	G1MP_EXIT4: 7,
	 0x4020,		// 	G1MP_EXIT8: 8,
	 0x4000b0,		// 	G1MP_MONST_GHOST1: 9,
	 0x400060,		// 	G1MP_MONST_GHOST2: 10,
	 0x400000,		// 	G1MP_MONST_GHOST3: 11,
	 0x4000d0,		// 	G1MP_MONST_GRUNT1: 12,
	 0x400080,		// 	G1MP_MONST_GRUNT2: 13,
	 0x400020,		// 	G1MP_MONST_GRUNT3: 14,
	 0x4000c0,		// 	G1MP_MONST_DEMON1: 15,
	 0x400070,		// 	G1MP_MONST_DEMON2: 16,
	 0x400010,		// 	G1MP_MONST_DEMON3: 17,
	 0x4000f0,		// 	G1MP_MONST_LOBBER1: 18,
	 0x4000a0,		// 	G1MP_MONST_LOBBER2: 19,
	 0x400050,		// 	G1MP_MONST_LOBBER3: 20,
	 0x4000e0,		// 	G1MP_MONST_SORC1: 21,
	 0x400090,		// 	G1MP_MONST_SORC2: 22,
	 0x400030,		// 	G1MP_MONST_SORC3: 23,
	 0x400040,		// 	G1MP_MONST_DEATH: 24,
	 0xf000b0,		// 	G1MP_GEN_GHOST1: 25, 
	 0xf00060,		// 	G1MP_GEN_GHOST2: 26,
	 0xf00000,		// 	G1MP_GEN_GHOST3: 27,
	 0xf000d0,		// 	G1MP_GEN_GRUNT1: 28,
	 0xf00080,		// 	G1MP_GEN_GRUNT2: 29,
	 0xf00020,		// 	G1MP_GEN_GRUNT3: 30,
	 0xf000c0,		// 	G1MP_GEN_DEMON1: 31,
	 0xf00070,		// 	G1MP_GEN_DEMON2: 32,
	 0xf00010,		// 	G1MP_GEN_DEMON3: 33,
	 0xf000f0,		// 	G1MP_GEN_LOBBER1: 34,
	 0xf000a0,		// 	G1MP_GEN_LOBBER2: 35,
	 0xf00050,		// 	G1MP_GEN_LOBBER3: 36,
	 0xf000e0,		// 	G1MP_GEN_SORC1: 37,
	 0xf00090,		// 	G1MP_GEN_SORC2: 38,
	 0xf00030,		// 	G1MP_GEN_SORC3: 39,
	 0x8070,		// 	G1MP_TREASURE: 40,
	 0x000041,		// 	G1MP_nospec_41: 41,
	 0x8000,		// 	G1MP_FOOD_DESTRUCTABLE: 42,
	 0x8020,		// 	G1MP_FOOD_INVULN: 43,
	 0x8060,		// 	G1MP_POT_DESTRUCTABLE: 44,
	 0x8061,		// 	G1MP_POT_INVULN: 45,
	 0x80f0,		// 	G1MP_INVISIBL: 46,
	 0x80e3,		// 	G1MP_X_ARMOR: 47,
	 0x80e0,		// 	G1MP_X_SPEED: 48,
	 0x80e5,		// 	G1MP_X_MAGIC: 49,
	 0x80e1,		// 	G1MP_X_SHOTPW: 50,
	 0x80e2,		// 	G1MP_X_SHTSPD: 51,
	 0x80e4,		// 	G1MP_X_FIGHT: 52,
	 0x8050,		// 	G1MP_KEY: 53,
	 0x000054,		// 	G1MP_nospec_54: 54,
	 0x000055,		// 	G1MP_POT_INVULN: 55,
	 0x8210,		// 	G1MP_WALL_DESTRUCTABLE: 56,
	 0x404030,		// 	G1MP_WALL_TRAP1: 57,
	 0x80b0,		// 	G1MP_TILE_TRAP1: 58,
	 0x80a0,		// 	G1MP_TRANSPORTER: 59,
	 0x000060,		// 	G1MP_nospec_60: 60,
	 0x000061,		// 	G1MP_nospec_60: 61,
	 0x80c0,		// 	G1MP_TILE_STUN: 62,
	 0x000063,		// 	G1MP_nospec_60: 63,
	 0x8090,		// 	G1MP_TREASURE_BAG: 64,
	 0x400100,		//  thief is hacked in for score table maze sample area

}

var sanct_vrt2 = []int{

	 0xa08060,		// 	G2MP_TILE_FLOOR: 0,
	 0x80c0,		// 	G2MP_TILE_STUN: 1,
	 0x404000,		// 	G2MP_WALL_REGULAR: 2,
	 0x80d0,		// 	G2MP_WALL_MOVABLE: 3,
	 0x8190,		// 	G2MP_WALL_SECRET: 4,
	 0x8210,		// 	G2MP_WALL_DESTRUCTABLE: 5,
	 0x81d0,		// 	G2MP_WALL_RANDOM: 6,
	 0x404030,		// 	G2MP_WALL_TRAPCYC1: 7,
	 0x404031,		// 	G2MP_WALL_TRAPCYC2: 8,
	 0x404032,		// 	G2MP_WALL_TRAPCYC3: 9,
	 0x80b0,		// 	G2MP_TILE_TRAP1: 10,
	 0x80b1,		// 	G2MP_TILE_TRAP2: 11,
	 0x80b2,		// 	G2MP_TILE_TRAP3: 12,
	 0xc0c000,		// 	G2MP_DOOR_HORIZ: 13,
	 0xc0c000,		// 	G2MP_DOOR_VERT: 14,
	 0xf000,		// 	G2MP_PLAYERSTART: 15,
	 0x4000,		// 	G2MP_EXIT: 16,
	 0x4030,		// 	G2MP_EXIT6: 17,
	 0x400000,		// 	G2MP_MONST_GHOST3: 18,
	 0x400020,		// 	G2MP_MONST_GRUNT3: 19,
	 0x400010,		// 	G2MP_MONST_DEMON3: 20,
	 0x400050,		// 	G2MP_MONST_LOBBER3: 21,
	 0x400030,		// 	G2MP_MONST_SORC3: 22,
		// ! sanctuary does not encode aux grunts yet
	 0x400020,		// 	G2MP_MONST_AUX_GRUNT: 23,
	 0x400040,		// 	G2MP_MONST_DEATH: 24,
	 0x400120,		// 	G2MP_MONST_ACID: 25,
	 0x400130,		// 	G2MP_MONST_SUPERSORC: 26,
	 0x400140,		// 	G2MP_MONST_IT: 27,
	 0xf000b0,		// 	G2MP_GEN_GHOST1: 28,
	 0xf00060,		// 	G2MP_GEN_GHOST2: 29,
	 0xf00000,		// 	G2MP_GEN_GHOST3: 30,
	 0xf000d0,		// 	G2MP_GEN_GRUNT1: 31,
	 0xf00080,		// 	G2MP_GEN_GRUNT2: 32,
	 0xf00020,		// 	G2MP_GEN_GRUNT3: 33,
	 0xf000c0,		// 	G2MP_GEN_DEMON1: 34,
	 0xf00070,		// 	G2MP_GEN_DEMON2: 35,
	 0xf00010,		// 	G2MP_GEN_DEMON3: 36,
	 0xf000f0,		// 	G2MP_GEN_LOBBER1: 37,
	 0xf000a0,		// 	G2MP_GEN_LOBBER2: 38,
	 0xf00050,		// 	G2MP_GEN_LOBBER3: 39,
	 0xf000e0,		// 	G2MP_GEN_SORC1: 40,
	 0xf00090,		// 	G2MP_GEN_SORC2: 41,
	 0xf00030,		// 	G2MP_GEN_SORC3: 42,
	 0xf000d0,		// 	G2MP_GEN_AUX_GRUNT1: 43,
	 0xf00080,		// 	G2MP_GEN_AUX_GRUNT2: 44,
	 0xf00020,		// 	G2MP_GEN_AUX_GRUNT3: 45,
	 0x8070,		// 	G2MP_TREASURE: 46,
	 0x8080,		// 	G2MP_TREASURE_LOCKED: 47,
	 0x8090,		// 	G2MP_TREASURE_BAG: 48,
	 0x8000,		// 	G2MP_FOOD_DESTRUCTABLE: 49,
	 0x8020,		// 	G2MP_FOOD_INVULN: 50,
	 0x8060,		// 	G2MP_POT_DESTRUCTABLE: 51,
	 0x8061,		// 	G2MP_POT_INVULN: 52,
	 0x8050,		// 	G2MP_KEY: 53,
	 0x80f0,		// 	G2MP_POWER_INVIS: 54,
	 0x80f2,		// 	G2MP_POWER_REPULSE: 55,
	 0x80f3,		// 	G2MP_POWER_REFLECT: 56,
	 0x80f5,		// 	G2MP_POWER_TRANSPORT: 57,
	 0x80f4,		// 	G2MP_POWER_SUPERSHOT: 58,
	 0x80f1,		// 	G2MP_POWER_INVULN: 59,
	 0x400150,		// 	G2MP_MONST_DRAGON: 60,
	 0x000061,		// 	G2MP_HIDDENPOT: 61,
	 0x80a0,		// 	G2MP_TRANSPORTER: 62,
	 0x8130,		// 	G2MP_FORCEFIELDHUB: 63,
	 0x000064,		// 	G2MP_nospec_: 64,
	 0x400100,		//  thief is hacked in for score table maze sample area
	 0x000066,		// 	G2MP_nospec_: 66,
	 0x000067,		// 	G2MP_nospec_: 67,
	 0x000068,		// 	G2MP_nospec_: 68,
	 0x000069,		// 	G2MP_nospec_: 69,
	 0x80e0,		// 	G2MP_X_SPEED: 70,
	 0x80e1,		// 	G2MP_X_SHOTPW: 71,
	 0x80e2,		// 	G2MP_X_SHTSPD: 72,
	 0x80e3,		// 	G2MP_X_ARMOR: 73,
	 0x80e4,		// 	G2MP_X_FIGHT: 74,
	 0x80e5,		// 	G2MP_X_MAGIC: 75,
	 0x8090,		// 	G2MP_TREASURE_BAG: 76,

}